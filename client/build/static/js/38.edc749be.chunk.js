"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[38],{8987:function(e,n,a){a.d(n,{Z:function(){return c}});var r=a(4440),t=a(4070),s=a(184);function c(e){return(0,s.jsx)(r.Z,{open:e.openSnackBar,autoHideDuration:8e3,onClose:e.closeSnackBar,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,s.jsx)(t.Z,{onClose:e.closeSnackBar,severity:e.severity?"success":"error",sx:{width:"100%"},children:e.message})})}},5038:function(e,n,a){a.r(n),a.d(n,{default:function(){return v}});var r=a(9439),t=a(2791),s=a(7689),c=a(8652),i=a(8014),o=a(68),l=a(6151),d=a(1578),u=a(8987),p=a(7074),h=a(4182),w=a(184);function v(){var e=(0,t.createRef)(),n=(0,t.createRef)(),a=(0,t.createRef)(),v=(0,t.createRef)(),x=(0,s.s0)(),f=(0,t.useState)(!1),j=(0,r.Z)(f,2),g=j[0],m=j[1],Z=(0,t.useState)(""),P=(0,r.Z)(Z,2),C=P[0],y=P[1],_=(0,t.useState)(!0),k=(0,r.Z)(_,2),B=k[0],N=k[1];return(0,w.jsxs)("div",{className:"ChangePW_container",children:[(0,w.jsxs)("div",{className:"ChangePW_panel",children:[(0,w.jsx)("h2",{children:(0,w.jsx)(i.vys,{size:40})}),(0,w.jsx)("h2",{children:"Change Password"}),(0,w.jsx)(o.Z,{title:"Email",arrow:!0,placement:"top",children:(0,w.jsx)("div",{children:(0,w.jsx)("input",{type:"text",placeholder:"Email",className:"ChangePW_inputBox",ref:e})})}),(0,w.jsx)(o.Z,{title:"Letters and Digits , 8-20 characters",arrow:!0,placement:"top-end",children:(0,w.jsx)("div",{children:(0,w.jsx)("input",{type:"password",placeholder:"Origin Password",className:"ChangePW_inputBox",ref:n})})}),(0,w.jsx)(o.Z,{title:"Letters and Digits , 8-20 characters",arrow:!0,placement:"top-end",children:(0,w.jsx)("div",{children:(0,w.jsx)("input",{type:"password",placeholder:"New Password",className:"ChangePW_inputBox",ref:a})})}),(0,w.jsx)(o.Z,{title:"Letters and Digits , 8-20 characters",arrow:!0,placement:"top-end",children:(0,w.jsx)("div",{children:(0,w.jsx)("input",{type:"password",placeholder:"Type New Password Again",className:"ChangePW_inputBox",ref:v})})}),(0,w.jsx)("div",{children:(0,w.jsx)(l.Z,{variant:"contained",color:"secondary",size:"small",className:"ChangePW_changePWBtn",onClick:function(){var r=function(e,n,a,r){var t="";return n!==a&&n!==r||(t+="old password cannot equal to new password"),/^[\w\-\/][\w\'\-\/\.]*@[\w\-]+(\.[\w\-]+)*(\.[\w]{2,6})$/.test(e)||(t+="mail format incorrect "),/^[a-zA-Z\d_]{8,20}$/.test(n)&&/^[a-zA-Z\d_]{8,20}$/.test(a)&&/^[a-zA-Z\d_]{8,20}$/.test(r)||(t+="password format incorrect "),a!==r&&(t+="2 password not match"),t}(e.current.value,n.current.value,a.current.value,v.current.value);r&&(N(!1),y(r),m(!0));var t=new FormData;t.append("email",e.current.value),t.append("originPw",n.current.value),t.append("newPw",a.current.value),t.append("newSecondPw",v.current.value),c.Z.change_pw(t).then((function(e){c.Z.logout().then((function(e){h.Z.dispatch((0,p.RD)(!0)),x("/login")})).catch((function(e){var n;N(!1),y(null===(n=e.response)||void 0===n?void 0:n.data),m(!0)}))})).catch((function(e){var n;N(!1),y(null===(n=e.response)||void 0===n?void 0:n.data),m(!0)}))},endIcon:(0,w.jsx)(d.y3$,{}),children:"Change password"})})]}),(0,w.jsx)(u.Z,{openSnackBar:g,closeSnackBar:function(){m(!1)},severity:B,message:C})]})}}}]);
//# sourceMappingURL=38.edc749be.chunk.js.map